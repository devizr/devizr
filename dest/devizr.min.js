/*!
 * devizr 0.5.0
 * Device asset manager and JS feature detector
 * Copyright (c) 2013, 2014 Uli Preuss
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
!function(e,t,n){"use strict";var r=function(){function r(e){this.name="Devizr Error",this.message=e||""}function o(e,t){v[e]=t}function i(){function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(r){switch(r){case e:return a.contentWindow;case t:return a.contentDocument;case t.documentElement:return a.contentDocument.documentElement;case n:return a.contentWindow.navigator;case screen:return a.contentWindow.screen}}var c=["moz","Moz","webkit","WebKit","ms","MS","o","O"],u=t.getElementsByTagName("body")[0],a=t.createElement("iframe");a.width="1",a.height="1",a.style.visibility="hidden",a.onload=function(){u.removeChild(a)},u.appendChild(a),d=function(e,t,n){var r,u,a=!1;if(e=i(e),n)for(r=0;r<c.length;r++)u=c[r]+o(t),u in e&&(a=!0);return t in e&&(a=!0),a};for(var s in v){if("function"!=typeof v[s])throw new r("Invalid test - '"+s+"' is not a function!");v[s]()&&h.push(s)}}function c(e){var t,n,r,o,i,c,a=0,s=0;if(u(e,"Array")){for(t=e.length;t>a;a++)n=e[a].width,n||(n=0),p.width>n>s&&(s=a);c=e[s]}else{if(!u(e,"Object"))throw new Error("devizr: Object or Array required!");c=e}r=c.addons;for(o in r)r.hasOwnProperty(o)&&(i=r[o],i.script&&f(i),i.style&&(i.stylesRequired=!0,l(i)))}function u(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function a(e){return!!~h.indexOf(e)}function s(e,t){var n=e.tests,r=!0,o=0;if("string"==typeof n&&(n=[n]),n)for(;o<n.length;o++)"!"===n[o][0]?a(n[o].substring(1))&&(r=!1):a(n[o])||(r=!1);return r?e[t]:void 0}function f(e){var n,r,o;e.script=s(e,"script"),e.script&&!~g.indexOf(e.script)&&(n=t.createElement("script"),n.type="text/javascript",n.src=e.script,n.async=!0,n.onload=function(){g.push(e.script),e.complete&&(e.stylesRequired?o=setInterval(function(){m&&(clearInterval(o),e.complete())},10):e.complete())},r=t.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r))}function l(e){var n,r,o,i=new XMLHttpRequest;e.style=s(e,"style"),e.style&&!~g.indexOf(e.style)&&(g.push(e.style),i.open("GET",e.style),i.onreadystatechange=function(){4===i.readyState&&(n=t.createElement("style"),n.type="text/css",r=i.responseText,n.styleSheet?n.styleSheet.cssText=r:n.appendChild(t.createTextNode(r)),o=t.getElementsByTagName("head")[0],o.appendChild(n),m=!0)},i.send(null))}var d,p={width:e.innerWidth,height:e.innerHeight},m=!1,h=[],g=[],v={},d=function(){},v={retina:function(){return e.devicePixelRatio>1||e.matchMedia&&e.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches},fullscreen:function(){return d(e,"fullScreen")||d(t.documentElement,"requestFullscreen",!0)},ambientlight:function(){return d(e,"ondevicelight")},battery:function(){return d(n,"battery",!0)},geolocation:function(){return d(n,"geolocation")},pointerlock:function(){return d(t.documentElement,"requestPointerLock",!0)&&d(t,"exitPointerLock",!0)&&d(t,"pointerLockElement",!0)},userproximity:function(){return d(e,"onuserproximity")},devicemotion:function(){return d(e,"DeviceMotionEvent")},deviceorientation:function(){return d(e,"DeviceOrientationEvent")},orientationchange:function(){return d(screen,"onmozorientationchange")||d(screen,"onmsorientationchange")},vibrate:function(){return d(n,"vibrate",!0)},gamepads:function(){return d(n,"getGamepads")},getusermedia:function(){return d(n,"getUserMedia",!0)},contextmenu:function(){return d(t.documentElement,"contextMenu")&&d(e,"HTMLMenuItemElement")},online:function(){return d(n,"onLine")},onlineevents:function(){return d(e,"ononline")&&d(e,"onoffline")},eventsource:function(){return d(e,"EventSource")},applicationcache:function(){return d(e,"applicationCache")},connection:function(){return d(n,"connection")},lowbandwidth:function(){var e=d(n,"connection")&&n.connection||{type:0};return 3==e.type||4==e.type||/^[23]g$/.test(e.type)},notification:function(){return d(e,"Notification",!0)},postmessage:function(){return d(e,"postMessage")},websocket:function(){return d(e,"WebSocket")},xhr2:function(){return d(e,"FormData")},xhrupload:function(){return d(e,"XMLHttpRequestUpload")},cors:function(){return d(e,"XMLHttpRequest")&&"withCredentials"in new XMLHttpRequest},webintents:function(){return d(n,"startActivity")},blobconstructor:function(){return d(e,"Blob")},dataset:function(){return d(t.documentElement,"dataset")},formdata:function(){return d(e,"FormData")},filereader:function(){return d(e,"File")&&d(e,"FileReader")&&d(e,"FileList")},fileapi:function(){return d(e,"File")&&d(e,"FileReader")&&d(e,"FileList")&&d(e,"Blob")&&d(e,"URL")},json:function(){return d(e,"JSON")&&!!JSON.parse},localstorage:function(){return d(e,"localStorage")},sessionstorage:function(){return d(e,"sessionStorage")},websqldatabase:function(){return d(e,"openDatabase")},indexeddb:function(){return d(e,"indexedDB",!0)&&d(e,"IDBTransaction",!0)&&d(e,"IDBKeyRange",!0)},filehandle:function(){},hashchange:function(){return d(e,"onhashchange")},pagevisibility:function(){return d(t,"hidden",!0)},touch:function(){return d(e,"ontouchstart")||d(n,"MaxTouchPoints")&&n.MaxTouchPoints>0||d(n,"msMaxTouchPoints")&&n.msMaxTouchPoints>0||d(e,"DocumentTouch")&&t instanceof DocumentTouch},contenteditable:function(){return d(t.documentElement,"contenteditable")&&d(e,"HTMLMenuItemElement")},draganddrop:function(){return d(t.documentElement,"draggable")&&d(t,"ondrag")&&d(t,"ondrag")},mutationobserver:function(){return d(e,"MutationObserver")},treewalker:function(){return d(e,"TreeWalker")},nodeiterator:function(){return d(e,"NodeIterator")},range:function(){return d(e,"Range")},matchmedia:function(){return d(e,"matchMedia")},webgl:function(){return d(e,"WebGLRenderingContext")},svg:function(){return t.createElementNS&&t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},svgfilters:function(){return d(e,"SVGFEColorMatrixElement")&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE},webaudio:function(){return d(e,"AudioContext",!0)},speechsynthesis:function(){return d(e,"speechSynthesis")&&d(e,"SpeechSynthesisUtterance",!0)},performance:function(){return d(e,"performance",!0)},requestanimationframe:function(){return d(e,"requestAnimationFrame",!0)},worker:function(){return d(e,"Worker")},sharedworker:function(){return d(e,"SharedWorker")},currentscript:function(){return d(t,"currentScript")&&d(t,"onbeforescriptexecute")&&d(t,"onafterscriptexecute")}};return r.prototype=new Error,r.prototype.constructor=r,{version:"##VERSION##",load:c,support:h,supports:a,tests:v,cache:g,addTest:o,init:i}}();"function"==typeof define&&define.amd?define([],function(){return r}):e.devizr=r}(window,document,navigator);