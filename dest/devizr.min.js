/*!
 * devizr 0.5.0
 * Device asset manager and JS feature detector
 * Copyright (c) 2013, 2014 Uli Preuss
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
!function(e,t,n){"use strict";var r=function(){function o(e){this.name="Devizr Error",this.message=e||""}function i(e,t){y[e]=t}function c(){function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(r){switch(r){case e:return a.contentWindow;case t:return a.contentDocument;case t.documentElement:return a.contentDocument.documentElement;case n:return a.contentWindow.navigator;case screen:return a.contentWindow.screen}}var c=["moz","Moz","webkit","WebKit","ms","MS","o","O"],u=t.getElementsByTagName("body")[0],a=t.createElement("iframe");a.width="1",a.height="1",a.style.visibility="hidden",a.onload=function(){u.removeChild(a)},u.appendChild(a),m=function(t,n,o){var u,a,s,f=!1,l=e.navigator.userAgent.toLowerCase();if(1===arguments.length)return s=new RegExp(arguments[0],"i"),s.test(l);if(t=i(t),o)for(u=0;u<c.length;u++)a=c[u]+r(n),a in t&&(f=!0);return n in t&&(f=!0),f};for(var s in y){if("function"!=typeof y[s])throw new o("Invalid test - '"+s+"' is not a function!");y[s]()&&g.push(s)}}function u(e){var t,n,r,o,i,c,u=0,s=0;if(a(e,"Array")){for(t=e.length;t>u;u++)n=e[u].width,n||(n=0),p.width>n>s&&(s=u);c=e[s]}else{if(!a(e,"Object"))throw new Error("devizr: Object or Array required!");c=e}r=c.addons;for(o in r)r.hasOwnProperty(o)&&(i=r[o],i.script&&l(i),i.style&&(i.stylesRequired=!0,d(i)))}function a(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function s(e){return!!~g.indexOf(e)}function f(e,t){var n=e.tests,r=!0,o=0;if("string"==typeof n&&(n=[n]),n)for(;o<n.length;o++)"!"===n[o][0]?s(n[o].substring(1))&&(r=!1):s(n[o])||(r=!1);return r?e[t]:void 0}function l(e){var n,r,o;e.script=f(e,"script"),e.script&&!~b.indexOf(e.script)&&(n=t.createElement("script"),n.type="text/javascript",n.src=e.script,n.async=!0,n.onload=function(){b.push(e.script),e.complete&&(e.stylesRequired?o=setInterval(function(){h&&(clearInterval(o),e.complete())},10):e.complete())},r=t.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r))}function d(e){var n,r,o,i=new XMLHttpRequest;e.style=f(e,"style"),e.style&&!~b.indexOf(e.style)&&(b.push(e.style),i.open("GET",e.style),i.onreadystatechange=function(){4===i.readyState&&(n=t.createElement("style"),n.type="text/css",r=i.responseText,n.styleSheet?n.styleSheet.cssText=r:n.appendChild(t.createTextNode(r)),o=t.getElementsByTagName("head")[0],o.appendChild(n),h=!0)},i.send(null))}var m,p={width:e.innerWidth,height:e.innerHeight},h=!1,g=[],b=[],y={};return y={retina:function(){return e.devicePixelRatio>1||e.matchMedia&&e.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches},fullscreen:function(){return m(e,"fullScreen")||m(t.documentElement,"requestFullscreen",!0)},ambientlight:function(){return m(e,"ondevicelight")},battery:function(){return m(n,"battery",!0)},geolocation:function(){return m(n,"geolocation")},pointerlock:function(){return m(t.documentElement,"requestPointerLock",!0)&&m(t,"exitPointerLock",!0)&&m(t,"pointerLockElement",!0)},userproximity:function(){return m(e,"onuserproximity")},devicemotion:function(){return m(e,"DeviceMotionEvent")},deviceorientation:function(){return m(e,"DeviceOrientationEvent")},orientationchange:function(){return m(screen,"onmozorientationchange")||m(screen,"onmsorientationchange")},vibrate:function(){return m(n,"vibrate",!0)},gamepads:function(){return m(n,"getGamepads")},getusermedia:function(){return m(n,"getUserMedia",!0)},contextmenu:function(){return m(t.documentElement,"contextMenu")&&m(e,"HTMLMenuItemElement")},online:function(){return m(n,"onLine")},onlineevents:function(){return m(e,"ononline")&&m(e,"onoffline")},eventsource:function(){return m(e,"EventSource")},applicationcache:function(){return m(e,"applicationCache")},connection:function(){return m(n,"connection")},notification:function(){return m(e,"Notification",!0)},postmessage:function(){return m(e,"postMessage")},websocket:function(){return m(e,"WebSocket")},xhr2:function(){return m(e,"FormData")},xhrupload:function(){return m(e,"XMLHttpRequestUpload")},cors:function(){return m(e,"XMLHttpRequest")&&"withCredentials"in new XMLHttpRequest},webintents:function(){return m(n,"startActivity")},blobconstructor:function(){return m(e,"Blob")},dataset:function(){return m(t.documentElement,"dataset")},formdata:function(){return m(e,"FormData")},filereader:function(){return m(e,"File")&&m(e,"FileReader")&&m(e,"FileList")},fileapi:function(){return m(e,"File")&&m(e,"FileReader")&&m(e,"FileList")&&m(e,"Blob")&&m(e,"URL")},json:function(){return m(e,"JSON")&&!!JSON.parse},localstorage:function(){return m(e,"localStorage")},sessionstorage:function(){return m(e,"sessionStorage")},websqldatabase:function(){return m(e,"openDatabase")},indexeddb:function(){return m(e,"indexedDB",!0)&&m(e,"IDBTransaction",!0)&&m(e,"IDBKeyRange",!0)},filehandle:function(){},hashchange:function(){return m(e,"onhashchange")},pagevisibility:function(){return m(t,"hidden",!0)},touch:function(){return m(e,"ontouchstart")||m(n,"MaxTouchPoints")&&n.MaxTouchPoints>0||m(n,"msMaxTouchPoints")&&n.msMaxTouchPoints>0||m(e,"DocumentTouch")&&t instanceof DocumentTouch},contenteditable:function(){return m(t.documentElement,"contenteditable")&&m(e,"HTMLMenuItemElement")},draganddrop:function(){return m(t.documentElement,"draggable")&&m(t,"ondrag")&&m(t,"ondrag")},mutationobserver:function(){return m(e,"MutationObserver")},treewalker:function(){return m(e,"TreeWalker")},nodeiterator:function(){return m(e,"NodeIterator")},range:function(){return m(e,"Range")},matchmedia:function(){return m(e,"matchMedia")},webgl:function(){return m(e,"WebGLRenderingContext")},svg:function(){return t.createElementNS&&t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},svgfilters:function(){return m(e,"SVGFEColorMatrixElement")&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE},webaudio:function(){return m(e,"AudioContext",!0)},speechsynthesis:function(){return m(e,"speechSynthesis")&&m(e,"SpeechSynthesisUtterance",!0)},performance:function(){return m(e,"performance",!0)},requestanimationframe:function(){return m(e,"requestAnimationFrame",!0)},worker:function(){return m(e,"Worker")},sharedworker:function(){return m(e,"SharedWorker")},currentscript:function(){return m(t,"currentScript")&&m(t,"onbeforescriptexecute")&&m(t,"onafterscriptexecute")},is_mobile:function(){return m("android")&&m("mobile")||m("blackberry")&&m("mobile")||m("firefox")&&m("fennec")||m("windows")&&m("phone")||m("opera")&&m("presto")||m("netfront")&&!m("kindle")||m("iphone|ipod|meego|webos|iemobile")||m("symbianos|doris|dorothy|gobrowser|maemo|minimo")||m("semc-browser|skyfire|teashark|teleca|uzardweb")},is_tablet:function(){return!m("is_mobile")&&r.supports("touch")||m("tablet|kindle|silk|ipad")},is_desktop:function(){return!r.supports("is_mobile")&&!r.supports("is_tablet")},is_slowconnection:function(){var e=m(n,"connection")&&n.connection||{type:0};return 3==e.type||4==e.type||/^[23]g$/.test(e.type)}},o.prototype=new Error,o.prototype.constructor=o,{version:"##VERSION##",load:u,support:g,supports:s,tests:y,cache:b,addTest:i,init:c}}();"function"==typeof define&&define.amd?define([],function(){return r}):e.devizr=r}(window,document,navigator);